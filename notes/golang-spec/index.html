<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>The Go Programming Language Specification</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
</head>
<body>
	<header>
	=============<br>
	== <a href="http://lroolle.com">Lroolle</a> ==<br>
	=============
	<div style="float: right;"></div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.
			
			
			<a href="/notes/"><b>Notes</b></a>.
			
			<a href="/categories/"><b>Categories</b></a>.
			
			<a href="/tags/"><b>Tags</b></a>.
			
	</nav>
	</p>
	
</header>

	
	<main>
		<article>
			<h1>The Go Programming Language Specification</h1>
			<b><time>07.06.2020 00:00</time></b>
		       
		           <a href="/tags/golang">golang</a>
        	       

			<div>
				<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<ul>
<li><!-- raw HTML omitted -->1<!-- raw HTML omitted --> <a href="#keywords">Keywords</a></li>
<li><!-- raw HTML omitted -->2<!-- raw HTML omitted --> <a href="#types">Types</a>
<ul>
<li><!-- raw HTML omitted -->2.1<!-- raw HTML omitted --> <a href="#boolean">Boolean</a></li>
<li><!-- raw HTML omitted -->2.2<!-- raw HTML omitted --> <a href="#string">String</a></li>
<li><!-- raw HTML omitted -->2.3<!-- raw HTML omitted --> <a href="#numeric">Numeric</a></li>
<li><!-- raw HTML omitted -->2.4<!-- raw HTML omitted --> <a href="#type-convert">Type Convert</a></li>
<li><!-- raw HTML omitted -->2.5<!-- raw HTML omitted --> <a href="#array">Array</a></li>
<li><!-- raw HTML omitted -->2.6<!-- raw HTML omitted --> <a href="#slice">Slice</a></li>
<li><!-- raw HTML omitted -->2.7<!-- raw HTML omitted --> <a href="#struct">Struct</a></li>
<li><!-- raw HTML omitted -->2.8<!-- raw HTML omitted --> <a href="#pointer">Pointer</a></li>
<li><!-- raw HTML omitted -->2.9<!-- raw HTML omitted --> <a href="#func">Func</a></li>
<li><!-- raw HTML omitted -->2.10<!-- raw HTML omitted --> <a href="#interface">Interface</a></li>
<li><!-- raw HTML omitted -->2.11<!-- raw HTML omitted --> <a href="#map">Map</a></li>
<li><!-- raw HTML omitted -->2.12<!-- raw HTML omitted --> <a href="#channel">Channel</a></li>
</ul>
</li>
<li><!-- raw HTML omitted -->3<!-- raw HTML omitted --> <a href="#declarations-and-scope">Declarations and scope ¶</a>
<ul>
<li><!-- raw HTML omitted -->3.1<!-- raw HTML omitted --> <a href="#constant">Constant</a></li>
<li><!-- raw HTML omitted -->3.2<!-- raw HTML omitted --> <a href="#type-declarations">Type declarations</a></li>
<li><!-- raw HTML omitted -->3.3<!-- raw HTML omitted --> <a href="#variable-declarations">Variable declarations</a></li>
<li><!-- raw HTML omitted -->3.4<!-- raw HTML omitted --> <a href="#function-declarations">Function declarations</a></li>
<li><!-- raw HTML omitted -->3.5<!-- raw HTML omitted --> <a href="#method-declarations">Method declarations</a></li>
</ul>
</li>
<li><!-- raw HTML omitted -->4<!-- raw HTML omitted --> <a href="#make-and-new"><code>make</code> &amp; <code>new</code></a></li>
<li><!-- raw HTML omitted -->5<!-- raw HTML omitted --> <a href="#references">References</a></li>
</ul>
<!-- raw HTML omitted -->
<h2 id="keywords"><!-- raw HTML omitted -->1<!-- raw HTML omitted --> Keywords</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">break</span>        <span style="color:#66d9ef">default</span>      <span style="color:#66d9ef">func</span>         <span style="color:#66d9ef">interface</span>    <span style="color:#66d9ef">select</span>
<span style="color:#66d9ef">case</span>         <span style="color:#66d9ef">defer</span>        <span style="color:#66d9ef">go</span>           <span style="color:#66d9ef">map</span>          <span style="color:#66d9ef">struct</span>
<span style="color:#66d9ef">chan</span>         <span style="color:#66d9ef">else</span>         <span style="color:#66d9ef">goto</span>         <span style="color:#f92672">package</span>      <span style="color:#66d9ef">switch</span>
<span style="color:#66d9ef">const</span>        <span style="color:#66d9ef">fallthrough</span>  <span style="color:#66d9ef">if</span>           <span style="color:#66d9ef">range</span>        <span style="color:#66d9ef">type</span>
<span style="color:#66d9ef">continue</span>     <span style="color:#66d9ef">for</span>          <span style="color:#f92672">import</span>       <span style="color:#66d9ef">return</span>       <span style="color:#66d9ef">var</span>
</code></pre></div><h2 id="types"><!-- raw HTML omitted -->2<!-- raw HTML omitted --> Types</h2>
<h3 id="boolean"><!-- raw HTML omitted -->2.1<!-- raw HTML omitted --> Boolean</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ToBe</span> <span style="color:#66d9ef">bool</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Type: %T, Value zeroed is: %v\n&#34;</span>, <span style="color:#a6e22e">ToBe</span>, <span style="color:#a6e22e">ToBe</span>)}
</code></pre></div><h3 id="string"><!-- raw HTML omitted -->2.2<!-- raw HTML omitted --> String</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">zero</span> <span style="color:#66d9ef">string</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">hi</span> = <span style="color:#e6db74">&#34;Fucker&#34;</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fucker</span> = <span style="color:#e6db74">`Steve Jobs was an American entrepreneur and inventor.
</span><span style="color:#e6db74">He was the CEO and co-founder of Apple Inc.`</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;hi: %q, zeroed: %q, fucker: %q&#34;</span>, <span style="color:#a6e22e">hi</span>, <span style="color:#a6e22e">zero</span>, <span style="color:#a6e22e">fucker</span>)
}
</code></pre></div><h3 id="numeric"><!-- raw HTML omitted -->2.3<!-- raw HTML omitted --> Numeric</h3>
<h4 id="integers"><!-- raw HTML omitted -->2.3.1<!-- raw HTML omitted --> Integers</h4>
<!-- raw HTML omitted -->
<ol>
<li>
<p>Signed</p>
<p><code>int8</code> <code>int16</code> <code>int32</code> <code>int64</code></p>
<ul>
<li>
<p><code>int</code>
platform dependent. It is 32 bits wide on a 32-bit system and 64-bits wide on a 64-bit system.</p>
</li>
<li>
<p><code>rune</code>
alias for <code>int32</code>, represents a Unicode code point</p>
</li>
</ul>
</li>
</ol>
<!-- raw HTML omitted -->
<ol start="2">
<li>
<p>Unsigned</p>
<p><code>uint</code> <code>uint8</code> <code>uint16</code> <code>uint32</code> <code>uint64</code></p>
<ul>
<li><code>byte</code> // alias for <code>uint8</code></li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
    <span style="color:#e6db74">&#34;math/big&#34;</span>
    <span style="color:#e6db74">&#34;math&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">MaxInt</span> <span style="color:#66d9ef">uint64</span> = <span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">64</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;MaxInt64: %v, MaxUint: %v\n&#34;</span>, <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxInt64</span>, <span style="color:#a6e22e">MaxInt</span>)
    <span style="color:#75715e">// fmt.Println(170_141183_460469_231731_687303_715884_105727) // overflows int
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">bigInt</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">big</span>.<span style="color:#a6e22e">NewInt</span>(<span style="color:#ae81ff">0</span>)
    <span style="color:#a6e22e">bigInt</span>.<span style="color:#a6e22e">SetString</span>(<span style="color:#e6db74">&#34;170141183460469231731687303715884105727&#34;</span>, <span style="color:#ae81ff">10</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">bigInt</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">`decimal_lit = &#34;0&#34; | ( &#34;1&#34; … &#34;9&#34; ) [ [ &#34;_&#34; ] decimal_digits ] .: %d, %d, %d
</span><span style="color:#e6db74">`</span>, <span style="color:#ae81ff">4</span><span style="color:#a6e22e">_2</span>, <span style="color:#ae81ff">0600</span>, <span style="color:#ae81ff">0</span><span style="color:#a6e22e">_600</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">`binary|octal|hex_lit = &#34;0&#34; ( &#34;box&#34; | &#34;BOX&#34; ) [ &#34;_&#34; ] binary_digits .: %d, %o, %x, %X
</span><span style="color:#e6db74">`</span>, <span style="color:#ae81ff">0</span><span style="color:#a6e22e">b0101</span>, <span style="color:#ae81ff">0</span><span style="color:#a6e22e">o600</span>, <span style="color:#ae81ff">0xBad</span><span style="color:#a6e22e">_Face</span>, <span style="color:#ae81ff">0</span><span style="color:#a6e22e">x_67_7a_2f_cc_40_c6</span>)
}
</code></pre></div></li>
</ol>
<h4 id="floats"><!-- raw HTML omitted -->2.3.2<!-- raw HTML omitted --> Floats</h4>
<p><code>float32</code> <code>float64</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%f %f %e %E %g %f %q&#34;</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">072.40</span>, <span style="color:#ae81ff">1.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">+</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">6.67428e-11</span>, <span style="color:#ae81ff">1E6</span>, <span style="color:#ae81ff">.25</span>, <span style="color:#ae81ff">1</span><span style="color:#a6e22e">_5</span><span style="color:#ae81ff">.2</span>)
}
</code></pre></div><h4 id="complex"><!-- raw HTML omitted -->2.3.3<!-- raw HTML omitted --> Complex</h4>
<p><code>complex64</code> <code>complex128</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math/cmplx&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">z</span> <span style="color:#66d9ef">complex128</span> = <span style="color:#a6e22e">cmplx</span>.<span style="color:#a6e22e">Sqrt</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">12i</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Type: %T Value: %v\n&#34;</span>, <span style="color:#a6e22e">z</span>, <span style="color:#a6e22e">z</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">`imaginary_lit = (decimal_digits | int_lit | float_lit) &#34;i&#34; .: %T, %v, %v`</span>,<span style="color:#ae81ff">0i</span>, <span style="color:#ae81ff">0</span><span style="color:#a6e22e">o123i</span>, <span style="color:#ae81ff">1.e+0i</span>)
}
</code></pre></div><h3 id="type-convert"><!-- raw HTML omitted -->2.4<!-- raw HTML omitted --> Type Convert</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">float64</span> = <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Sqrt</span>(float64(<span style="color:#a6e22e">x</span><span style="color:#f92672">*</span><span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">*</span><span style="color:#a6e22e">y</span>))
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ff</span> = (<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">z</span> <span style="color:#66d9ef">uint</span> = uint(<span style="color:#a6e22e">f</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">ff</span>, <span style="color:#a6e22e">z</span>)
}
</code></pre></div><h3 id="array"><!-- raw HTML omitted -->2.5<!-- raw HTML omitted --> Array</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> [<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">2</span>]<span style="color:#66d9ef">float64</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aa</span> [<span style="color:#ae81ff">2</span>]<span style="color:#f92672">*</span><span style="color:#66d9ef">float64</span> <span style="color:#75715e">// point
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;a is like [2]([2]([2]float64)): %v, len(a): %v, type(a): %T, type(aa): %T&#34;</span>, <span style="color:#a6e22e">a</span>, len(<span style="color:#a6e22e">a</span>), <span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">aa</span>)
}
</code></pre></div><h3 id="slice"><!-- raw HTML omitted -->2.6<!-- raw HTML omitted --> Slice</h3>
<p>An array has a fixed size. A slice, is a dynamically-sized, flexible view into
the elements of an array. In practice, slices are much more common than arrays.</p>
<p>A slice does not store any data, it just describes a section of an underlying array</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// /usr/local/Cellar/go/1.14.3/libexec/src/runtime/slice.go
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">slice</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">array</span> <span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>
	<span style="color:#a6e22e">len</span>   <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">cap</span>   <span style="color:#66d9ef">int</span>
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;reflect&#34;</span>
)
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> = [<span style="color:#ae81ff">6</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">13</span>}
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">as</span> = <span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">4</span>]
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ass</span> = <span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">4</span>:]
	<span style="color:#75715e">// var s = make([]int, 1, 8)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;as: %v cap(as): %v, ass: %v cap(ass): %v\n&#34;</span>, <span style="color:#a6e22e">as</span>, cap(<span style="color:#a6e22e">as</span>), <span style="color:#a6e22e">ass</span>, cap(<span style="color:#a6e22e">ass</span>))
	<span style="color:#a6e22e">as</span>[<span style="color:#ae81ff">1</span>] = <span style="color:#ae81ff">4</span>
	<span style="color:#a6e22e">ass</span>[<span style="color:#ae81ff">1</span>] = <span style="color:#ae81ff">114</span>
	<span style="color:#a6e22e">ass</span> = append(<span style="color:#a6e22e">ass</span>, <span style="color:#ae81ff">115</span>, <span style="color:#ae81ff">116</span>, <span style="color:#ae81ff">117</span>, <span style="color:#ae81ff">118</span>, <span style="color:#ae81ff">119</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;as: %v cap(as): %v, ass: %v cap(ass): %v, a: %v\n&#34;</span>, <span style="color:#a6e22e">as</span>, cap(<span style="color:#a6e22e">as</span>), <span style="color:#a6e22e">ass</span>, cap(<span style="color:#a6e22e">ass</span>), <span style="color:#a6e22e">a</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">a</span>).<span style="color:#a6e22e">Kind</span>())
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">ass</span>).<span style="color:#a6e22e">Kind</span>())
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">twoD</span> = [][]<span style="color:#66d9ef">int</span> {
		{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>},
		{<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>},
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">twoD</span>)
	<span style="color:#a6e22e">asss</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">5</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>}
    <span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">asss</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">3</span>]
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">t</span>, cap(<span style="color:#a6e22e">t</span>))
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">as: [3 5 7] cap(as): 5, ass: [11 13] cap(ass): 2
as: [3 4 7] cap(as): 5, ass: [11 114 115 116 117 118 119] cap(ass): 8, a: [2 3 4 7 11 114]
array
slice
[[1 2 3] [4 5 6]]
[2 3] 2
</code></pre></div><h3 id="struct"><!-- raw HTML omitted -->2.7<!-- raw HTML omitted --> Struct</h3>
<p>A struct is a sequence of named elements, called fields, each of which has a name and a type.
Within a struct, non-blank field names must be unique.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// An empty struct.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> {}

<span style="color:#75715e">// A struct with 6 fields.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">u</span> <span style="color:#66d9ef">float32</span>
	<span style="color:#a6e22e">_</span> <span style="color:#66d9ef">float32</span>  <span style="color:#75715e">// padding
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">A</span> <span style="color:#f92672">*</span>[]<span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">F</span> <span style="color:#66d9ef">func</span>()
}

<span style="color:#75715e">// A struct with four embedded fields of types T1, *T2, P.T3 and *P.T4
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">T1</span>        <span style="color:#75715e">// field name is T1
</span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">T2</span>       <span style="color:#75715e">// field name is T2
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">P</span>.<span style="color:#a6e22e">T3</span>      <span style="color:#75715e">// field name is T3
</span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">P</span>.<span style="color:#a6e22e">T4</span>     <span style="color:#75715e">// field name is T4
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>  <span style="color:#75715e">// field names are x and y
</span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">T1</span>       <span style="color:#75715e">// conflicts with embedded field *T1 and *P.T1
</span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">P</span>.<span style="color:#a6e22e">T1</span>     <span style="color:#75715e">// conflicts with embedded field *T1 and T1
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 id="pointer"><!-- raw HTML omitted -->2.8<!-- raw HTML omitted --> Pointer</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">//  The value of an uninitialized pointer is nil.
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#a6e22e">Point</span>
<span style="color:#f92672">*</span>[<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>
</code></pre></div><h3 id="func"><!-- raw HTML omitted -->2.9<!-- raw HTML omitted --> Func</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">prefix</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">values</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">int</span>)
</code></pre></div><h3 id="interface"><!-- raw HTML omitted -->2.10<!-- raw HTML omitted --> Interface</h3>
<p>An interface type specifies a method set called its interface.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// illegal: Bad cannot embed itself
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Bad</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">Bad</span>
}

<span style="color:#75715e">// illegal: Bad1 cannot embed itself using Bad2
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Bad1</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">Bad2</span>
}
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Bad2</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">Bad1</span>
}
</code></pre></div><h3 id="map"><!-- raw HTML omitted -->2.11<!-- raw HTML omitted --> Map</h3>
<p>A map is an unordered group of elements of one type, called the element type,
indexed by a set of unique keys of another type, called the key type.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">100</span>)

<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">int</span>
<span style="color:#66d9ef">map</span>[<span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>]<span style="color:#66d9ef">struct</span>{ <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">float64</span> }
<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}
</code></pre></div><h3 id="channel"><!-- raw HTML omitted -->2.12<!-- raw HTML omitted --> Channel</h3>
<p>A channel provides a mechanism for concurrently executing functions to
communicate by sending and receiving values of a specified element type. The
value of an uninitialized channel is nil.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">chan</span> <span style="color:#a6e22e">T</span>          <span style="color:#75715e">// can be used to send and receive values of type T
</span><span style="color:#75715e"></span><span style="color:#66d9ef">chan</span><span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">float64</span>  <span style="color:#75715e">// can only be used to send float64s
</span><span style="color:#75715e"></span><span style="color:#f92672">&lt;-</span><span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>      <span style="color:#75715e">// can only be used to receive ints
</span><span style="color:#75715e"></span>
make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">100</span>) <span style="color:#75715e">// cap() = 100
</span><span style="color:#75715e"></span>
</code></pre></div><h2 id="declarations-and-scope"><!-- raw HTML omitted -->3<!-- raw HTML omitted --> Declarations and scope ¶</h2>
<h3 id="constant"><!-- raw HTML omitted -->3.1<!-- raw HTML omitted --> Constant</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Pi</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.14159265358979323846</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">zero</span> = <span style="color:#ae81ff">0.0</span>         <span style="color:#75715e">// untyped floating-point constant
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">size</span> <span style="color:#66d9ef">int64</span> = <span style="color:#ae81ff">1024</span>
	<span style="color:#a6e22e">eof</span>        = <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>  <span style="color:#75715e">// untyped integer constant
</span><span style="color:#75715e"></span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">c</span> = <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#34;foo&#34;</span>  <span style="color:#75715e">// a = 3, b = 4, c = &#34;foo&#34;, untyped integer and string constants
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">u</span>, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">float32</span> = <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>    <span style="color:#75715e">// u = 0.0, v = 3.0
</span></code></pre></div><p>Within a parenthesized const declaration omitted from any but the first ConstSpec.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">Sunday</span> = <span style="color:#66d9ef">iota</span>
	<span style="color:#a6e22e">Monday</span>
	<span style="color:#a6e22e">Tuesday</span>
	<span style="color:#a6e22e">Wednesday</span>
	<span style="color:#a6e22e">Thursday</span>
	<span style="color:#a6e22e">Friday</span>
	<span style="color:#a6e22e">Partyday</span>
	<span style="color:#a6e22e">numberOfDays</span>  <span style="color:#75715e">// this constant is not exported
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">Sunday</span>, <span style="color:#a6e22e">Monday</span>, <span style="color:#a6e22e">Tuesday</span>, <span style="color:#a6e22e">Wednesday</span>, <span style="color:#a6e22e">Thursday</span>, <span style="color:#a6e22e">Friday</span>, <span style="color:#a6e22e">Partyday</span>, <span style="color:#a6e22e">numberOfDays</span>)
}
</code></pre></div><p>Within a constant declaration, the predeclared identifier iota represents
successive untyped integer constants. Its value is the index of the respective
ConstSpec in that constant declaration, starting at zero. It can be used to
construct a set of related constants</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">c0</span> = <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// c0 == 0
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">c1</span> = <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// c1 == 1
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">c2</span> = <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// c2 == 2
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">a</span> = <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// a == 1  (iota == 0)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">b</span> = <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// b == 2  (iota == 1)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">c</span> = <span style="color:#ae81ff">3</span>          <span style="color:#75715e">// c == 3  (iota == 2, unused)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">d</span> = <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">iota</span>  <span style="color:#75715e">// d == 8  (iota == 3)
</span><span style="color:#75715e"></span>)

<span style="color:#75715e">// By definition, multiple uses of iota in the same ConstSpec all have the same value:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">bit0</span>, <span style="color:#a6e22e">mask0</span> = <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">iota</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#66d9ef">iota</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>  <span style="color:#75715e">// bit0 == 1, mask0 == 0  (iota == 0)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">bit1</span>, <span style="color:#a6e22e">mask1</span>                           <span style="color:#75715e">// bit1 == 2, mask1 == 1  (iota == 1)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">_</span>                                  <span style="color:#75715e">//                        (iota == 2, unused)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">bit3</span>, <span style="color:#a6e22e">mask3</span>                           <span style="color:#75715e">// bit3 == 8, mask3 == 7  (iota == 3)
</span><span style="color:#75715e"></span>)
</code></pre></div><h3 id="type-declarations"><!-- raw HTML omitted -->3.2<!-- raw HTML omitted --> Type declarations</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Alias
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> (
	<span style="color:#a6e22e">nodeList</span> = []<span style="color:#f92672">*</span><span style="color:#a6e22e">Node</span>  <span style="color:#75715e">// nodeList and []*Node are identical types
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Polar</span>    = <span style="color:#a6e22e">polar</span>    <span style="color:#75715e">// Polar and polar denote identical types
</span><span style="color:#75715e"></span>)

<span style="color:#75715e">// Type definitions
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> (
	<span style="color:#a6e22e">Point</span> <span style="color:#66d9ef">struct</span>{ <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">float64</span> }  <span style="color:#75715e">// Point and struct{ x, y float64 } are different types
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">polar</span> <span style="color:#a6e22e">Point</span>                   <span style="color:#75715e">// polar and Point denote different types
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TreeNode</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">left</span>, <span style="color:#a6e22e">right</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">TreeNode</span>
	<span style="color:#a6e22e">value</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Comparable</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Block</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">BlockSize</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">Encrypt</span>(<span style="color:#a6e22e">src</span>, <span style="color:#a6e22e">dst</span> []<span style="color:#66d9ef">byte</span>)
	<span style="color:#a6e22e">Decrypt</span>(<span style="color:#a6e22e">src</span>, <span style="color:#a6e22e">dst</span> []<span style="color:#66d9ef">byte</span>)
}
</code></pre></div><h3 id="variable-declarations"><!-- raw HTML omitted -->3.3<!-- raw HTML omitted --> Variable declarations</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">U</span>, <span style="color:#a6e22e">V</span>, <span style="color:#a6e22e">W</span> <span style="color:#66d9ef">float64</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">k</span> = <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">float32</span> = <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>
<span style="color:#66d9ef">var</span> (
	<span style="color:#a6e22e">i</span>       <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">u</span>, <span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">s</span> = <span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3.0</span>, <span style="color:#e6db74">&#34;bar&#34;</span>
)
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">re</span>, <span style="color:#a6e22e">im</span> = <span style="color:#a6e22e">complexSqrt</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">found</span> = <span style="color:#a6e22e">entries</span>[<span style="color:#a6e22e">name</span>]  <span style="color:#75715e">// map lookup; only interested in &#34;found&#34;
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Short
</span><span style="color:#75715e"></span><span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>
<span style="color:#a6e22e">f</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>() <span style="color:#66d9ef">int</span> { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">7</span> }
<span style="color:#a6e22e">ch</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>)
<span style="color:#a6e22e">r</span>, <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Pipe</span>()  <span style="color:#75715e">// os.Pipe() returns a connected pair of Files and an error, if any
</span><span style="color:#75715e"></span><span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">coord</span>(<span style="color:#a6e22e">p</span>)   <span style="color:#75715e">// coord() returns three values; only interested in y coordinate
</span></code></pre></div><h3 id="function-declarations"><!-- raw HTML omitted -->3.4<!-- raw HTML omitted --> Function declarations</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">IndexRune</span>(<span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">r</span> <span style="color:#66d9ef">rune</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">s</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">r</span> {
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">i</span>
		}
	}
	<span style="color:#75715e">// invalid: missing return statement
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 id="method-declarations"><!-- raw HTML omitted -->3.5<!-- raw HTML omitted --> Method declarations</h3>
<p>A method is a function with a receiver. A method declaration binds an
identifier, the method name, to a method, and associates the method with the
receiver&rsquo;s base type.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Point</span>) <span style="color:#a6e22e">Length</span>() <span style="color:#66d9ef">float64</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Sqrt</span>(<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">y</span>)
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Point</span>) <span style="color:#a6e22e">Scale</span>(<span style="color:#a6e22e">factor</span> <span style="color:#66d9ef">float64</span>) {
	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">*=</span> <span style="color:#a6e22e">factor</span>
	<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">*=</span> <span style="color:#a6e22e">factor</span>
}
</code></pre></div><h2 id="make-and-new"><!-- raw HTML omitted -->4<!-- raw HTML omitted --> <code>make</code> &amp; <code>new</code></h2>
<ul>
<li>
<p><code>make</code>:</p>
<ul>
<li>Create a channel</li>
<li>Create a map with <strong>space preallocated</strong></li>
<li>Create a slice with <strong>space preallocated</strong> or with <strong>len != cap</strong></li>
</ul>
</li>
<li>
<p><code>new</code>:
built-in function that allocates memory, but unlike its namesakes in some
other languages it <strong>does not initialize the memory</strong>, it only zeros it.
That is, new(T) allocates zeroed storage for a new item of type T and returns
its <strong>address</strong>, a value of type *T.
In Go terminology, it returns a pointer to a newly allocated zero value of type T.</p>
<p>The main thing it makes easier is creating pointers to non-composite types.
The two functions below are equivalent.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newInt1</span>() <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span> { <span style="color:#66d9ef">return</span> new(<span style="color:#66d9ef">int</span>) }

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newInt2</span>() <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span> {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
    <span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">i</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-- MAKE --&#34;</span>)
    <span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">1</span>)
    <span style="color:#a6e22e">aPtr</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;pointer == nil :&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">aPtr</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">a</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;pointer value: %p\n\n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">aPtr</span>)

    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-- COMPOSITE LITERAL --&#34;</span>)
    <span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">int</span>{}
    <span style="color:#a6e22e">bPtr</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;pointer == nil :&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">bPtr</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;pointer value: %p\n\n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">bPtr</span>)

    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-- NEW --&#34;</span>)
    <span style="color:#a6e22e">cPtr</span> <span style="color:#f92672">:=</span> new([]<span style="color:#66d9ef">int</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;pointer == nil :&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">cPtr</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;pointer value: %p\n\n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">cPtr</span>)

    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-- VAR (not initialized) --&#34;</span>)
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">d</span> []<span style="color:#66d9ef">int</span>
    <span style="color:#a6e22e">dPtr</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">d</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;pointer == nil :&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">dPtr</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;pointer value: %p\n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">dPtr</span>)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">-- MAKE --
pointer == nil : false [0]
pointer value: 0xc00001a100

-- COMPOSITE LITERAL --
pointer == nil : false
pointer value: 0x11a8c50

-- NEW --
pointer == nil : true
pointer value: 0x0

-- VAR (not initialized) --
pointer == nil : true
pointer value: 0x0
</code></pre></div><p>The zero-value-is-useful property works transitively. Consider this type
declaration.</p>
<p>Values of type SyncedBuffer are also ready to use immediately upon allocation or
just declaration. In the next snippet, both p and v will work correctly without
further arrangement.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;sync&#34;</span>
	<span style="color:#e6db74">&#34;bytes&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">SyncedBuffer</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">lock</span>    <span style="color:#a6e22e">sync</span>.<span style="color:#a6e22e">Mutex</span>
	<span style="color:#a6e22e">buffer</span>  <span style="color:#a6e22e">bytes</span>.<span style="color:#a6e22e">Buffer</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> new(<span style="color:#a6e22e">SyncedBuffer</span>)  <span style="color:#75715e">// type *SyncedBuffer
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">v</span> <span style="color:#a6e22e">SyncedBuffer</span>      <span style="color:#75715e">// type  SyncedBuffer
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;p:&#34;</span>, <span style="color:#a6e22e">p</span>, <span style="color:#e6db74">&#34;lock&#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">lock</span>, <span style="color:#e6db74">&#34;buffer:&#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">buffer</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;v:&#34;</span>, <span style="color:#a6e22e">v</span>, <span style="color:#e6db74">&#34;lock&#34;</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">lock</span>, <span style="color:#e6db74">&#34;buffer:&#34;</span>, <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">buffer</span>)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">p: &amp;{{0 0} {[] 0 0}} lock {0 0} buffer: {[] 0 0}
v: {{0 0} {[] 0 0}} lock {0 0} buffer: {[] 0 0}
</code></pre></div><h2 id="references"><!-- raw HTML omitted -->5<!-- raw HTML omitted --> References</h2>
<ul>
<li>Golang Doc: <a href="https://golang.org/ref/spec#DIntroduction">The Go Programming Language Specification</a></li>
<li><a href="https://moego.me/golang%5Fspec.html">Go 编程语言规范【译】</a></li>
<li><a href="https://stackoverflow.com/questions/9320862/why-would-i-make-or-new">https://stackoverflow.com/questions/9320862/why-would-i-make-or-new</a></li>
</ul>

			</div>
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/notes/english-grammar-digest/">English Grammar Digest</a></li>
				
				<li><a href="/notes/macos-catalina-gdb-setup/">MacOS Catalina GDB Setup</a></li>
				
				<li><a href="/notes/effective-go/">Effective Go</a></li>
				
				<li><a href="/notes/golang-spec/">The Go Programming Language Specification</a></li>
				
			</ul>
		</div>
	</div>
</aside>


	<footer>
	<p>&copy; 2020 <a href="http://lroolle.com"><b>Lroolle</b></a>.
	<a href="https://github.com/lroolle"><b>Github</b></a>.
	</p>
</footer>

</body>
</html>
